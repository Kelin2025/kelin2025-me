{"version":3,"sources":["server.ts"],"names":[],"mappings":";AA8BA,aAAA,IAAA,EAAA,MAAA,KAAA,iBAAA,SAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,IAAA,EAAA,MAAA,KAAA,cAAA,SAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,IAAA,EAAA,GAAA,GAAA,MAAA,EAAA,IAAA,IAAA,KAAA,EAAA,OAAA,eAAA,KAAA,EAAA,KAAA,EAAA,GAAA,EAAA,IAAA,OAAA,EAAA,QAAA,EAAA,GAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IA9BA,MAAA,EAAA,EAAA,QAAA,YACA,EAAA,EAAA,QAAA,OACA,EAAA,EAAA,QAAA,SACA,EAAA,EAAA,QAAA,oBAEM,EAAM,EAAA,UAEN,EAAU,EAAA,QACd,EAAG,aAAa,EAAK,KAAK,UAAW,qBAGjC,EAAO,EAAQ,CACnB,uDAE6B,EAAG,aAC1B,EAAK,KAAK,UAAW,2DAEO,EAAG,aAC/B,EAAK,KAAK,UAAW,kDAM7B,EAAI,IAAI,UAAW,EAAA,QAAQ,OAAO,EAAK,KAAK,UAAW,UAEvD,EAAI,IAAI,IAAK,CAAC,EAAK,KACjB,EAAI,KAAK,KAGX,EAAI,OAAO,QAAQ,IAAI,MAAQ","file":"server.js","sourceRoot":"src","sourcesContent":["import express from \"express\";\r\nimport * as fs from \"fs\";\r\nimport * as path from \"path\";\r\nimport template from \"lodash.template\";\r\n\r\nconst app = express();\r\n\r\nconst compile = template(\r\n  fs.readFileSync(path.join(__dirname, \"dist/index.html\"))\r\n);\r\n\r\nconst page = compile({\r\n  inject: `\r\n    <script>\r\n      globalThis.gamesLoaded(${fs.readFileSync(\r\n        path.join(__dirname, \"dist/games.json\")\r\n      )})\r\n      globalThis.challengesLoaded(${fs.readFileSync(\r\n        path.join(__dirname, \"dist/challenges.json\")\r\n      )})\r\n    </script>\r\n  `\r\n});\r\n\r\napp.use(\"/public\", express.static(path.join(__dirname, \"dist\")));\r\n\r\napp.get(\"*\", (req, res) => {\r\n  res.send(page);\r\n});\r\n\r\napp.listen(process.env.PORT || 8080);\r\n"]}